!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("querystring")):"function"==typeof define&&define.amd?define(["exports","querystring"],t):t(e.nativeUrl={},e.querystring)}(this,function(e,t){t=t&&t.hasOwnProperty("default")?t.default:t;var r=/https?|ftp|gopher|file/;function o(e){"string"==typeof e&&(e=g(e));var o=function(e,t,r){var o=e.auth,a=e.hostname,s=e.protocol||"",n=e.pathname||"",c=e.hash||"",h=e.query||"",p=!1;o=o?encodeURIComponent(o).replace(/%3A/i,":")+"@":"",e.host?p=o+e.host:a&&(p=o+(~a.indexOf(":")?"["+a+"]":a),e.port&&(p+=":"+e.port)),h&&"object"==typeof h&&(h=t.encode(h));var l=e.search||h&&"?"+h||"";return s&&":"!==s.substr(-1)&&(s+=":"),e.slashes||(!s||r.test(s))&&!1!==p?(p="//"+(p||""),n&&"/"!==n[0]&&(n="/"+n)):p||(p=""),c&&"#"!==c[0]&&(c="#"+c),l&&"?"!==l[0]&&(l="?"+l),{protocol:s,host:p,pathname:n=n.replace(/[?#]/g,encodeURIComponent),search:l=l.replace("#","%23"),hash:c}}(e,t,r);return""+o.protocol+o.host+o.pathname+o.search+o.hash}var a="http://",s="w.w",n=a+s,c=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,h=/https?|ftp|gopher|file/;function p(e,t){var r="string"==typeof e?g(e):e;e="object"==typeof e?o(e):e;var s=g(t),p="";r.protocol&&!r.slashes&&(p=r.protocol,e=e.replace(r.protocol,""),p+="/"===t[0]||"/"===e[0]?"/":""),p&&s.protocol&&(p="",s.slashes||(p=s.protocol,t=t.replace(s.protocol,"")));var l=e.match(c);l&&!s.protocol&&(e=e.substr((p=l[1]+(l[2]||"")).length),/^\/\/[^/]/.test(t)&&(p=p.slice(0,-1)));var i=new URL(e,n+"/"),f=new URL(t,i).toString().replace(n,""),u=s.protocol||r.protocol;return u+=r.slashes||s.slashes?"//":"",!p&&u?f=f.replace(a,u):p&&(f=f.replace(a,"")),h.test(f)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==f.slice(-1)||(f=f.slice(0,-1)),p&&(f=p+("/"===f[0]?f.substr(1):f)),f}function l(){}l.parse=g,l.format=o,l.resolve=p,l.resolveObject=p;var i=/^https?|ftp|gopher|file/,f=/^(.*?)([#?].*)/,u=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,m=/^([a-z0-9.+-]*:)?\/\/\/*/i,d=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function v(e){try{return decodeURI(e)}catch(t){return e}}function g(e,r,a){if(void 0===r&&(r=!1),void 0===a&&(a=!1),e&&"object"==typeof e&&e instanceof l)return e;var c=(e=e.trim()).match(f);e=c?v(c[1]).replace(/\\/g,"/")+c[2]:v(e).replace(/\\/g,"/"),d.test(e)&&"/"!==e.slice(-1)&&(e+="/");var h=!/(^javascript)/.test(e)&&e.match(u),p=m.test(e),g="";h&&(i.test(h[1])||(g=h[1].toLowerCase(),e=""+h[2]+h[3]),h[2]||(p=!1,i.test(h[1])?(g=h[1],e=""+h[3]):e="//"+h[3]),3!==h[2].length&&1!==h[2].length||(g=h[1],e="/"+h[3]));var y,b=(c?c[1]:e).match(/(:[0-9]+)/),w="";b&&b[1]&&3===b[1].length&&(e=e.replace(w=b[1],w+"00"));var U=new l,j="",O="";try{y=new URL(e)}catch(t){j=t,g||a||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(O="/",e=e.substr(1));try{y=new URL(e,n)}catch(e){return U.protocol=g,U.href=g,U}}U.slashes=p&&!O,U.host=y.host===s?"":y.host,U.hostname=y.hostname===s?"":y.hostname.replace(/(\[|\])/g,""),U.protocol=j?g||null:y.protocol,U.search=y.search.replace(/\\/g,"%5C"),U.hash=y.hash.replace(/\\/g,"%5C");var R=e.split("#");!U.search&&~R[0].indexOf("?")&&(U.search="?"),U.hash||""!==R[1]||(U.hash="#"),U.query=r?t.decode(y.search.substr(1)):U.search.substr(1),U.pathname=O+v(y.pathname).replace(/"/g,"%22"),"about:"===U.protocol&&"blank"===U.pathname&&(U.protocol="",U.pathname=""),j&&"/"!==e[0]&&(U.pathname=U.pathname.substr(1)),g&&!i.test(g)&&"/"!==e.slice(-1)&&"/"===U.pathname&&(U.pathname=""),U.path=U.pathname+U.search,U.auth=[y.username,y.password].map(decodeURIComponent).filter(Boolean).join(":"),U.port=y.port,w&&(U.host=U.host.replace(w+"00",w),U.port=U.port.slice(0,-2)),U.href=O?""+U.pathname+U.search+U.hash:o(U);var x=/^(file)/.test(U.href)?["host","hostname"]:[];return Object.keys(U).forEach(function(e){~x.indexOf(e)||(U[e]=U[e]||null)}),U}e.parse=g,e.format=o,e.resolve=p,e.resolveObject=function(e,t){return g(p(e,t))},e.Url=l});
//# sourceMappingURL=index.umd.js.map
